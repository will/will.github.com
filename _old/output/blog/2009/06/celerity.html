<html lang='en-us' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='content-type' />
    <title>
      Quick Guide to Celerity - Will Leinweber
    </title>
    <meta content='Will Leinweber' name='author' />
    
    <!-- Blueprint CSS Framework -->
    <link href='/css/blueprint/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <link href='/css/blueprint/print.css' media='print' rel='stylesheet' type='text/css' />
    <!-- CodeRay syntax highlighting CSS -->
    <link href='/css/coderay.css' rel='stylesheet' type='text/css' />
    <!-- Homepage CSS -->
    <link href='/css/site.css' media='screen, projection' rel='stylesheet' type='text/css' />
    <!-- Feed Discovery -->
    <link href='http://feeds.feedburner.com/bitfission/' rel='alternate' title='RSS feed' type='application/atom+xml' />
  </head>
  <body>
    <div class='container'>
      <div class='column span-15 prepend-2 first'>
        <p class='title name'>
          <a href='/' rel='me'>Will Leinweber</a>
        </p>
      </div>
      <div class='column span-5 append-2 last'>
        <p class='title domain'>
          <a href='/'>
            bitfission<small>.com</small></a>
        </p>
      </div>
      <div class='column span-20 prepend-2 append-2 first last'>
        <hr />
      </div>
      <div class='column span-15 prepend-2 first'>
        <div class="blogContent">
            <div class="singleArticleHolder">
                <h2 class="articleTitle">Quick Guide to Celerity</h2>
                <p class="articleDate">June 09, 2009</p>
                <div class="articleContent">
                  <p>I&#8217;ll assume you already know and love <a href="http://wiki.github.com/aslakhellesoy/cucumber">Cucumber</a> and are using it. I&#8217;ll go even farther and assume you&#8217;re writing your steps in <a href="http://gitrdoc.com/brynary/webrat/tree/master/">Webrat</a> since that&#8217;s what cucumber ships with. Now, I really like webrat. It&#8217;s a wonderful DSL and fun to work with, but it does have one problem: no javascript, no ajax.</p>
        <p><img src="/images/2009/06/celerity.png" alt="" /></p>
        <h3>Enter Celerity</h3>
        <p><a href="http://celerity.rubyforge.org/">Celerity</a> is a headless browser for jruby that can do javascript. Now you can run your cucumber features that need to do ajax calls, and stay on the command line or CI box. It gets better though. The API is compatible with Watir, so you have the option of driving a real browser at any time. It&#8217;s not as expressive as webrat, but since you reusing cucumber steps is easy, it&#8217;s not a huge deal.</p>
        <h3>Don&#8217;t want jruby?</h3>
        <p>If you don&#8217;t want to run your whole app in jruby, checkout <a href="http://github.com/langalex/culerity/tree/master">langalex-culerity</a>. It&#8217;s a gem that will let you drive celerity from mri. It also comes with a <code>common_celerity.rb</code> file to replace most of your <code>webrat_steps</code>. We ran into a few steps that were missing or worked a little differently, but porting over didn&#8217;t take long at all.</p>
        <h3>That&#8217;s it!</h3>
        <p>Honestly, there&#8217;s not much to getting it working, so I&#8217;ve skipped doing a detailed step-by-step style guide. The documentation on getting jruby, celerity, and culerity installed is all you need. There weren&#8217;t any surprises. If your app has uses a fair amount of javascript, it&#8217;s worth your time to check this out.</p>
        
        
        
                </div>
            </div>
            <div class='otherposts'><ul><li>&nbsp;&nbsp;&nbsp;&nbsp;Next Post: <a href="/blog/2009/09/ruby19.html">Why we're not on Ruby1.9</a></li><li>Previous Post: <a href="/blog/2009/02/aac-talk.html">Acts as Conference Talk</a></li></ul></div>
            <div id="disqus_thread"></div>    
            <script type="text/javascript" src="http://disqus.com/forums/bitfission/embed.js">
              var disqus_title = "Quick Guide to Celerity";
            </script>
            <noscript><a href="http://bitfission.disqus.com/?url=ref">View the discussion thread.</a></noscript>
        </div>
      </div>
      <div class='column span-2 sidebar'>
        <a href='http://feeds.feedburner.com/bitfission'>
          <img src='/images/rss.png' />
        </a>
      </div>
      <div class='column span-3 append-2 last sidebar'>
        <ul>
          <li><a href="http://mailhide.recaptcha.net/d?k=01zfKie6B3RqCTDaRzr6rj9Q==&amp;c=sues3PgmCHchVBA3-99bUL5e9iUd2Vx9nRlM84OYOMw=" onclick="window.open('http://mailhide.recaptcha.net/d?k=01zfKie6B3RqCTDaRzr6rj9Q==&amp;c=sues3PgmCHchVBA3-99bUL5e9iUd2Vx9nRlM84OYOMw=', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;">email</a></li>
          <li><a href="http://github.com/will">github</a></li>
          <li><a href="http://leinweber.us">tumble</a></li>
          <li><a href="http://twitter.com/leinweber">twitter</a></li>
          <li><a href="http://www.linkedin.com/in/leinweber">linkedin</a></li>
        </ul>
      </div>
      <div class='column span-5 append-2 last sidebar'>
        <h3>Recent Posts</h3>
        <div class='box'>
          <ul>
            <li><a href="/blog/2010/10/some-talks.html">Some Talks</a></li>
            <li><a href="/blog/2010/07/auto-merge-gemfile-lock.html">Auto Merge Gemfile.lock</a></li>
            <li><a href="/blog/2010/05/rails_integration_stack_for_winners.html">Rails Integration Testing Stack for Winners</a></li>
            <li><a href="/blog/2010/04/speaking_at_rdrc.html">Red Dirt Ruby Conference</a></li>
            <li><a href="/blog/2010/03/ci_radiator.html">CI Radiator in Javascript</a></li>
            <li><a href="/blog/2009/09/ruby19.html">Why we're not on Ruby1.9</a></li>
            <li><a href="/blog/2009/06/celerity.html">Quick Guide to Celerity</a></li>
            <li><a href="/blog/2009/02/aac-talk.html">Acts as Conference Talk</a></li>
            <li><a href="/blog/2009/02/profiling-rspec.html">Profiling RSpec</a></li>
            <li><a href="/blog/2008/12/speaking-at-aac.html">Speaking at Acts as Conference</a></li>
            <li><a href="/blog/2008/11/why-you-should-use-couchdb.html">Why You Should Use CouchDB</a></li>
            <li><a href="/blog/2008/11/switching-to-webby.html">Switching to Webby</a></li>
            <li><a href="/blog/2008/09/closures-in-ruby.html">Closures in Ruby</a></li>
            <li><a href="/blog/2008/09/faking-or-shift-left.html">Faking "or shift left"</a></li>
            <li><a href="/blog/2008/04/test-driving-file-parsers.html">Test Driving a File Parser</a></li>
            <li><a href="/blog/2008/04/reopening-nil.html">Reopening NilClass</a></li>
            <li><a href="/blog/2008/01/merb-and-datamapper.html">Merb and Datamapper</a></li>
            <li><a href="/blog/2008/01/more-on-setting-up-leopard.html">More on setting up Leopard</a></li>
            <li><a href="/blog/2008/01/rubygems-and-leopard.html">RubyGems and Leopard</a></li>
          </ul>
        </div>
      </div>
      <div class='column span-20 prepend-2 first last'>
        <hr />
      </div>
      <div class='column span-15 prepend-2 first' id='footer'>
        <p><a href="/">Will Leinweber - bitfission</a></p>
      </div>
      <div class='column span-5 append-2 last' id='footer'>
        <a href='http://creativecommons.org/licenses/by-nc-sa/3.0/us/' rel='license'>
          <img alt='Creative Commons License' src='http://i.creativecommons.org/l/by-nc-sa/3.0/us/80x15.png' style='border-width:0' />
        </a>
      </div>
    </div>
    
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-3204018-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
  </body>
</html>
